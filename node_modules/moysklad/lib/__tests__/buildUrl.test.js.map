{"version":3,"sources":["../../src/__tests__/buildUrl.test.js"],"names":["test","require","Moysklad","t","ms","equals","buildUrl","a","b","c","d","filter","name","value","$eq","expand","offset","end"],"mappings":"AAAA;;AAEA,MAAMA,OAAOC,QAAQ,WAAR,CAAb;AACA,MAAMC,WAAWD,QAAQ,IAAR,CAAjB;;AAEAD,KAAK,0BAAL,EAAiCG,KAAK;AACpC,MAAIC,KAAKF,UAAT;;AAEAC,IAAEE,MAAF,CAASD,GAAGE,QAAH,CAAY,CAAC,QAAD,EAAW,QAAX,EAAqB,MAArB,CAAZ,CAAT,EACE,yDADF;;AAGAH,IAAEE,MAAF,CAASD,GAAGE,QAAH,CAAY,CAAC,MAAD,EAAS,IAAT,EAAe,KAAf,CAAZ,EAAmC;AAC1CC,OAAG,CADuC;AAE1CC,OAAG,KAFuC;AAG1CC,OAAG,IAHuC;AAI1CC,OAAG,CAAC,CAAD,EAAI,GAAJ;AAJuC,GAAnC,CAAT,EAKI,+EALJ;;AAOAP,IAAEE,MAAF,CAASD,GAAGE,QAAH,CAAY,CAAC,MAAD,EAAS,IAAT,EAAe,KAAf,CAAZ,EAAmC;AAC1CC,OAAG,CADuC;AAE1CI,YAAQ,EAAEC,MAAM,KAAR,EAAeC,OAAO,EAAEC,KAAK,KAAP,EAAtB;AAFkC,GAAnC,CAAT,EAGI,0FAHJ;;AAKAX,IAAEE,MAAF,CACED,GAAGE,QAAH,CAAY,kEACV,mEADF,CADF,EAGE,kEACE,mEAJJ;;AAMAH,IAAEE,MAAF,CACED,GAAGE,QAAH,CAAY,kEACV,4EADF,EACgF;AAC9ES,YAAQ,OADsE,EAC7DC,QAAQ;AADqD,GADhF,CADF,EAKE,kEACE,kFANJ;;AAQAb,IAAEE,MAAF,CACED,GAAGE,QAAH,CAAY,kEACV,iDADF,EACqD,IADrD,CADF,EAGE,kEACE,iDAJJ;;AAMAH,IAAEE,MAAF,CACED,GAAGE,QAAH,CAAY,kEACV,iDADF,EACqD,EADrD,CADF,EAGE,kEACE,iDAJJ;;AAMAH,IAAEc,GAAF;AACD,CA7CD","file":"buildUrl.test.js","sourcesContent":["'use strict'\n\nconst test = require('blue-tape')\nconst Moysklad = require('..')\n\ntest('Moysklad#buildUrl method', t => {\n  let ms = Moysklad()\n\n  t.equals(ms.buildUrl(['/path/', 'To//My', 'Res/']),\n    'https://online.moysklad.ru/api/remap/1.1/path/to/my/res')\n\n  t.equals(ms.buildUrl(['path', 'to', 'res'], {\n    a: 1,\n    b: 'tow',\n    c: true,\n    d: [0, '2']\n  }), 'https://online.moysklad.ru/api/remap/1.1/path/to/res?a=1&b=tow&c=true&d=0&d=2')\n\n  t.equals(ms.buildUrl(['path', 'to', 'res'], {\n    a: 1,\n    filter: { name: 'foo', value: { $eq: 'bar' } }\n  }), 'https://online.moysklad.ru/api/remap/1.1/path/to/res?a=1&filter=name%3Dfoo%3Bvalue%3Dbar')\n\n  t.equals(\n    ms.buildUrl('https://online.moysklad.ru/api/remap/1.1/entity/purchaseorder' +\n      '/191ebffa-45df-11e6-7a69-93a7000513f8/positions?expand=assortment'),\n    'https://online.moysklad.ru/api/remap/1.1/entity/purchaseorder' +\n      '/191ebffa-45df-11e6-7a69-93a7000513f8/positions?expand=assortment')\n\n  t.equals(\n    ms.buildUrl('https://online.moysklad.ru/api/remap/1.1/entity/purchaseorder' +\n      '/191ebffa-45df-11e6-7a69-93a7000513f8/positions?expand=assortment&limit=10', {\n      expand: 'agent', offset: 100\n    }),\n    'https://online.moysklad.ru/api/remap/1.1/entity/purchaseorder' +\n      '/191ebffa-45df-11e6-7a69-93a7000513f8/positions?expand=agent&limit=10&offset=100')\n\n  t.equals(\n    ms.buildUrl('https://online.moysklad.ru/api/remap/1.1/entity/purchaseorder' +\n      '/191ebffa-45df-11e6-7a69-93a7000513f8/positions', null),\n    'https://online.moysklad.ru/api/remap/1.1/entity/purchaseorder' +\n      '/191ebffa-45df-11e6-7a69-93a7000513f8/positions')\n\n  t.equals(\n    ms.buildUrl('https://online.moysklad.ru/api/remap/1.1/entity/purchaseorder' +\n      '/191ebffa-45df-11e6-7a69-93a7000513f8/positions', {}),\n    'https://online.moysklad.ru/api/remap/1.1/entity/purchaseorder' +\n      '/191ebffa-45df-11e6-7a69-93a7000513f8/positions')\n\n  t.end()\n})\n"]}