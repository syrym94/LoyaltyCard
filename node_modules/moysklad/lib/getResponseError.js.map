{"version":3,"sources":["../src/getResponseError.js"],"names":["createError","responseError","errors","error","Error","code","moreInfo","length","module","exports","getResponseError","resp","Array","errorItem","find","item"],"mappings":"AAAA;;AAEA,SAASA,WAAT,CAAsBC,aAAtB,EAAqCC,MAArC,EAA6C;AAC3C,MAAIC,QAAQ,IAAIC,KAAJ,CAAUH,cAAcE,KAAxB,CAAZ;AACA,MAAIF,cAAcI,IAAlB,EAAwB;AAAEF,UAAME,IAAN,GAAaJ,cAAcI,IAA3B;AAAiC;AAC3D,MAAIJ,cAAcK,QAAlB,EAA4B;AAAEH,UAAMG,QAAN,GAAiBL,cAAcK,QAA/B;AAAyC;AACvE,MAAIJ,UAAUA,OAAOK,MAAP,GAAgB,CAA9B,EAAiC;AAAEJ,UAAMD,MAAN,GAAeA,MAAf;AAAuB;AAC1D,SAAOC,KAAP;AACD;;AAEDK,OAAOC,OAAP,GAAiB,SAASC,gBAAT,CAA2BC,IAA3B,EAAiC;AAChD,MAAI,CAACA,IAAL,EAAW;AACT,WAAO,IAAP;AACD,GAFD,MAEO,IAAIA,KAAKT,MAAT,EAAiB;AACtB,WAAOF,YAAYW,KAAKT,MAAL,CAAY,CAAZ,CAAZ,EAA4BS,KAAKT,MAAjC,CAAP;AACD,GAFM,MAEA,IAAIS,gBAAgBC,KAApB,EAA2B;AAChC;AACA,QAAIC,YAAYF,KAAKG,IAAL,CAAUC,QAAQA,KAAKb,MAAvB,CAAhB;AACA,WAAOW,YAAYb,YAAYa,UAAUX,MAAV,CAAiB,CAAjB,CAAZ,EAAiCW,UAAUX,MAA3C,CAAZ,GAAiE,IAAxE;AACD,GAJM,MAIA;AACL,WAAO,IAAP;AACD;AACF,CAZD","file":"getResponseError.js","sourcesContent":["'use strict'\n\nfunction createError (responseError, errors) {\n  let error = new Error(responseError.error)\n  if (responseError.code) { error.code = responseError.code }\n  if (responseError.moreInfo) { error.moreInfo = responseError.moreInfo }\n  if (errors && errors.length > 1) { error.errors = errors }\n  return error\n}\n\nmodule.exports = function getResponseError (resp) {\n  if (!resp) {\n    return null\n  } else if (resp.errors) {\n    return createError(resp.errors[0], resp.errors)\n  } else if (resp instanceof Array) {\n    // Учитывается только первая ошибка\n    let errorItem = resp.find(item => item.errors)\n    return errorItem ? createError(errorItem.errors[0], errorItem.errors) : null\n  } else {\n    return null\n  }\n}\n"]}